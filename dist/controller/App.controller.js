sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast"],(e,t)=>{"use strict";return e.extend("renumactionlistui.controller.App",{onInit:function(){var e=new sap.ui.model.json.JSONModel({widthPercentage:"40%"});this.getView().setModel(e,"view");this._manifestData=this.getOwnerComponent().getManifestEntry("sap.app");this._renumberActionListUri=this._manifestData.dataSources.RenumberActionList.uri},handleTypeMissmatch:function(e){var n=e.getSource().getFileType();n.map(function(e){return"*."+e});t.show("The file type *."+e.getParameter("fileType")+" is not supported. Please choose a CSV file.")},handleFileChange:function(e){var t=this;var n=t.getView().byId("renumberButton");n.setEnabled(false);var r=t.getView().byId("logTextArea");r.setValue("");var a=e.getSource();var i=a.getValue();if(i){var n=t.getView().byId("renumberButton");n.setEnabled(true)}},onRenumberPress:function(){var e=this.getView().byId("fileUploader");var n=document.getElementById(e.getId()+"-fu");var r=new FormData;r.append("file",n.files[0]);var a=new XMLHttpRequest;a.open("POST",this._renumberActionListUri,true);a.responseType="blob";var i=this;a.onload=function(){if(a.status===200){var e=new Blob([a.response],{type:a.getResponseHeader("Content-Type")});var t=document.createElement("a");t.href=window.URL.createObjectURL(e);t.download=a.getResponseHeader("Content-Disposition").split("filename=")[1].replace(/"/g,"");document.body.appendChild(t);t.click();document.body.removeChild(t);var n=i.getView().byId("logTextArea");n.setValue("Success:\nA new file with renumbered Activity IDs has been created.")}else{var r=new FileReader;r.onload=function(){var e=r.result;var t=i.getView().byId("logTextArea");t.setValue("Error:\n"+e)};r.readAsText(a.response)}};a.onerror=function(){t.show("Error uploading file.")};a.send(r)}})});
//# sourceMappingURL=App.controller.js.map